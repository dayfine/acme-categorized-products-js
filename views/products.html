{% extends "layout.html" %}

{% block content %}

  <div class='container'>
    <div class='col-md-12 col-xl-8'>
      <h3>Products for {{current}} Category</h3>
      <h5>Add a new product if you cannot find what you need.</h5>

      <form method='POST' action='/categories/{{current}}/products'>
        <div class='form-group'>
          <input name='product' placeholder='New Product' class='form-control'/>
          <input name='price' placeholder='Price' class='form-control'/>
        </div>
        <div class='form-group'>
          <button class='btn btn-primary'>Add Product!</button>
        </div>
      </form>
    </div>

    {% for product in products %}
    <div class='col-xs-6 col-sm-4 col-md-3'>
      <div class ='panel panel-info'>
        <div class='panel-heading' style="min-height: 50px; max-height: 50px;"><strong>{{product.name}}</strong></div>
        <div class='panel-body' style="min-height: 100px; max-height: 100px;">
          <h4>${{product.price}}   Rating: {{product.rating}}</h4>
          <form method='POST' action='/categories/{{current}}/products/{{product.id}}?_method=DELETE'>
            <button class='btn btn-danger'>Delete</button>
          </form>
        </div>
      </div>
    </div>
    {% endfor %}

  </div>

  <footer class='container'>
    <form method='POST' class='col-md-12' action='/categories/{{current}}?_method=DELETE'>
      <button class='btn btn-danger'>Delete Category</button>
    </form>
  </footer>

{% endblock %}
